(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{153:function(e,t,a){e.exports=a(278)},158:function(e,t,a){},194:function(e,t){},196:function(e,t){},231:function(e,t){},232:function(e,t){},277:function(e,t,a){},278:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),c=a.n(o),s=(a(158),a(37)),l=a(41),i=a(43),u=a(21),p=a(22),m=a(24),f=a(23),d=a(26),h=a(13),b=a.n(h),v=a(27),k=a(5),y=a(312),E=a(58),x=a.n(E),g={apiBaseUrl:"http://localhost:8080"},w=(a(191),200),O=function(){var e=Object(v.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.request({url:"/api/books",baseURL:g.apiBaseUrl,method:"GET"});case 3:if((t=e.sent).status!=w){e.next=7;break}return console.log("GET books",t.data),e.abrupt("return",t.data.books);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(v.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.request({url:"/api/books",baseURL:g.apiBaseUrl,method:"POST",data:{bookInfo:t}});case 3:if((a=e.sent).status!=w){e.next=7;break}return console.log("save book",a.data),e.abrupt("return",!0);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("GET books Error: ",e.t0);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(v.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.request({url:"/api/books",baseURL:g.apiBaseUrl,method:"DELETE",data:{id:t._id}});case 3:if((a=e.sent).status!=w){e.next=7;break}return console.log("delete book",a.data),e.abrupt("return",!0);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("GET books Error: ",e.t0);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(v.a)(b.a.mark(function e(t){var a,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://www.googleapis.com/books/v1/volumes?q=",e.next=4,x.a.request({url:"https://www.googleapis.com/books/v1/volumes?q="+t,method:"GET"});case 4:if((a=e.sent).status!=w){e.next=10;break}return console.log("GET books from google",a.data),n=a.data.items.map(function(e){var t=e.volumeInfo;return{title:t.title,authors:t.authors,image:t.imageLinks.thumbnail,description:t.description,link:t.infoLink}}),console.log("reeer",n),e.abrupt("return",n);case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}(),S=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).handleOpen=function(){window.open(a.props.bookInfo.link)},a.handleSave=function(){var e=Object(v.a)(b.a.mark(function e(t){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t);case 2:e.sent?i.NotificationManager.success("Saved"):i.NotificationManager.error("Failed to save");case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleDelete=function(){var e=Object(v.a)(b.a.mark(function e(t){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t);case 2:e.sent?(a.props.onDelete(t._id),i.NotificationManager.success("Deleted")):i.NotificationManager.error("Failed");case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.type,o=this.props.bookInfo,c=o.title,s=o.authors,l=o.description,i=o.image;o.link;return r.a.createElement("div",{className:a.book},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("strong",{style:{flexGrow:1}},c),r.a.createElement(y.a,{variant:"outlined",color:"primary",className:a.button,onClick:this.handleOpen},"View"),"search"===n&&r.a.createElement(y.a,{variant:"outlined",color:"primary",className:a.button,onClick:function(){return e.handleSave(e.props.bookInfo)}},"Save"),"saved"===n&&r.a.createElement(y.a,{variant:"outlined",color:"primary",className:a.button,onClick:function(){return e.handleDelete(e.props.bookInfo)}},"Delete")),s&&r.a.createElement("div",{style:{marginBottom:5}},"written by ",s.join(", ")),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("img",{style:{height:200},src:i,alt:"image",onClick:this.handleOpen}),r.a.createElement("p",{style:{marginLeft:10,marginTop:0}},l)))}}]),t}(n.Component),I=Object(k.a)(function(e){return{book:{border:"3px solid #333",padding:10,margin:5},button:{marginLeft:5}}})(S),C=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(f.a)(t).call(this,e))).handleDeleted=function(e){var t=a.state.savedBooks.filter(function(t){return t._id!==e});a.setState({savedBooks:t})},a.state={savedBooks:null},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:if(t=e.sent){e.next=6;break}return console.log("No savedBooks"),e.abrupt("return");case 6:this.setState({savedBooks:t});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.savedBooks;return r.a.createElement("div",{style:{margin:20}},r.a.createElement("h2",null,"Saved Books"),!t||t&&0===t.length&&r.a.createElement("p",null,"No Saved Books."),t&&t.map(function(t,a){return r.a.createElement(I,{type:"saved",bookInfo:t,key:a,onDelete:e.handleDeleted})}))}}]),t}(n.Component),D=Object(k.a)(function(e){return{}})(C),G=a(309),T=a(311),L=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(f.a)(t).call(this,e))).handleInput=function(e){a.setState({keyword:e.target.value})},a.handleSearch=Object(v.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.state.keyword){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,N(a.state.keyword);case 4:t=e.sent,a.setState({searchedBooks:t});case 6:case"end":return e.stop()}},e)})),a.state={keyword:"",searchedBooks:null},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.keyword,n=t.searchedBooks;return r.a.createElement("div",{style:{margin:20}},r.a.createElement("div",null,r.a.createElement("h2",null,"Book Search"),r.a.createElement(G.a,{id:"search",label:"",placeholder:"Type Book Name",className:e.textField,margin:"normal",value:a,fullWidth:!0,onChange:this.handleInput}),r.a.createElement(T.a,{display:"flex",justifyContent:"flex-end",m:1},r.a.createElement(y.a,{variant:"outlined",color:"primary",className:e.button,onClick:this.handleSearch},"Search"))),r.a.createElement("div",null,r.a.createElement("h2",null,"Result"),!n&&r.a.createElement("p",null,"No result"),n&&n.map(function(e,t){return r.a.createElement(I,{type:"search",bookInfo:e,key:t})})))}}]),t}(n.Component),U=Object(k.a)(function(e){return{}})(L),q=a(307),M=a(308),R=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(q.a,{position:"static",color:"default"},r.a.createElement(M.a,{style:{display:"flex",flexDirection:"row",alignItems:"center"}},r.a.createElement(y.a,{variant:"text",color:"primary",className:e.button,size:"large"},r.a.createElement(s.b,{to:"/",style:{textDecoration:"none"}},"Google Books")),r.a.createElement(y.a,{variant:"text",color:"primary",className:e.button},r.a.createElement(s.b,{to:"/search",style:{textDecoration:"none"}},"Search")),r.a.createElement(y.a,{variant:"text",color:"primary",className:e.button},r.a.createElement(s.b,{to:"/saved",style:{textDecoration:"none"}},"Saved")))))}}]),t}(n.Component),z=Object(k.a)(function(e){return{root:{flexGrow:1},appBar:{backgroundColor:"black",zIndex:e.zIndex.drawer+1}}})(R),F=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(T.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",m:2},r.a.createElement("h1",null,"(React) Google Books Search"),r.a.createElement("p",null,"Search for and Save Books of Interest")))}}]),t}(n.Component),W=Object(k.a)(function(e){return{root:{flexGrow:1}}})(F),_=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(s.a,null,r.a.createElement(z,null),r.a.createElement(W,null),r.a.createElement("div",{className:"content"},r.a.createElement(l.a,{exact:!0,path:"/search",component:U}),r.a.createElement(l.a,{path:"/saved",component:D})))}}]),t}(n.Component);a(276),a(277);var J=function(){return r.a.createElement(s.a,null,r.a.createElement(l.a,{path:"/",exact:!0,component:_}),r.a.createElement(i.NotificationContainer,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[153,1,2]]]);
//# sourceMappingURL=main.be146b30.chunk.js.map